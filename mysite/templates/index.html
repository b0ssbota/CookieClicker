{% load static %}

<html>
    <head>
        <title>COOKIE CLICKER</title>
        <link rel="icon" href="{% static 'imgs/cookie_icon.png' %}" type="image/xicon">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    </head>
    <body>
        <style>
        </style>
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-6 col-md-3 col-sm-3 col-xs-12">
                    <img src="{% static 'imgs/cookie_icon.png' %}" alt="click me" draggable="false" id="cookie" class="img-fluid">
                </div>
                <div class="col align-middle d-flex flex-column justify-content-center text-center">
                    <h1 id="cookieText">Cookies: 0</h1>
                </div>
              </div>    
        </div>
        <script>
            let cookieText = document.getElementById("cookieText");

            let cookies = 0;

            let cookie = document.getElementById("cookie");

            let array = [];

            for(var i = 1; i < 9; i++){
                array.push(`static/imgs/cookie${i}.png`)
            }

            let currentIndex = 0;

            console.log(array)

            cookie.src = array[currentIndex];

            cookie.addEventListener("click", (mouseEvent) => {
                cookies++;

                cookie.animate([
                    {transform: "scale(0.9,0.9)"},
                    {transform: "scale(1,1)"}
                ],{
                    duration: 200,
                    iterations: 1
                })

                cookieText.innerText = `Cookies: ${cookies}`;

                if(currentIndex == array.length - 1){
                    currentIndex = 0;
                }

                currentIndex++;
                cookie.src = array[currentIndex];

            });

        </script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    </body>
</html>